/* Copyright CANON INC. 2016 */
var IMG_MAP = {
    "0": "http://127.0.0.1:55555/images/Num0_n.gif",
    "1": "http://127.0.0.1:55555/images/Num1_n.gif",
    "2": "http://127.0.0.1:55555/images/Num2_n.gif",
    "3": "http://127.0.0.1:55555/images/Num3_n.gif",
    "4": "http://127.0.0.1:55555/images/Num4_n.gif",
    "5": "http://127.0.0.1:55555/images/Num5_n.gif",
    "6": "http://127.0.0.1:55555/images/Num6_n.gif",
    "7": "http://127.0.0.1:55555/images/Num7_n.gif",
    "8": "http://127.0.0.1:55555/images/Num8_n.gif",
    "9": "http://127.0.0.1:55555/images/Num9_n.gif",
    "/": "http://127.0.0.1:55555/images/SSpe_in.gif",
    ".": "http://127.0.0.1:55555/images/F_F_n.gif",
    ":": "http://127.0.0.1:55555/images/NumCo.gif",
    "-": "http://127.0.0.1:55555/images/WB_M_n.gif",
    "+": "http://127.0.0.1:55555/images/WB_P_n.gif",
    "[": "http://127.0.0.1:55555/images/StNbL_n.gif",
    "]": "http://127.0.0.1:55555/images/StNbR_n.gif",
    N: "http://127.0.0.1:55555/images/NDCn.gif",
    m: "http://127.0.0.1:55555/images/S_min.gif",
    e: "http://127.0.0.1:55555/images/NumNo_n.gif",
    s: "http://127.0.0.1:55555/images/Spacer.gif",
    '"': "http://127.0.0.1:55555/images/NumDbC_n.gif",
    numdot: "http://127.0.0.1:55555/images/NumDot.gif",
    recStby: "http://127.0.0.1:55555/images/Stby.gif",
    recRec: "http://127.0.0.1:55555/images/Rec.gif",
    recPreRecStby: "http://127.0.0.1:55555/images/PreStby.gif",
    recPreRec: "http://127.0.0.1:55555/images/PreRec.gif",
    recFrmStby: "http://127.0.0.1:55555/images/F_RecSt.gif",
    recFrmRecStby: "http://127.0.0.1:55555/images/F_RecSt.gif",
    recFrmRec: "http://127.0.0.1:55555/images/F_Rec.gif",
    recIntStby: "http://127.0.0.1:55555/images/I_RecSt.gif",
    recIntRecStby: "http://127.0.0.1:55555/images/I_RecSt.gif",
    recIntRec: "http://127.0.0.1:55555/images/I_Rec.gif",
    recSFStby: "http://127.0.0.1:55555/images/SF_RecSt.gif",
    recSFRec: "http://127.0.0.1:55555/images/SF_Rec.gif",
    recRecICON: "http://127.0.0.1:55555/images/RecIcon.gif",
    recStbyICON: "http://127.0.0.1:55555/images/StbyIcon.gif",
    recDoubleICON: "http://127.0.0.1:55555/images/DubIcon.gif",
    recRecBTN: def.img.rec,
    recStbyBTN: def.img.stby,
    recPhotoBTN: def.img.photo,
    recPlsRecMXFRec: "http://127.0.0.1:55555/images/PlsRec.gif",
    recPlsRecMXFStby: "http://127.0.0.1:55555/images/PlsStby.gif",
    recPlsRecMP4Rec: "http://127.0.0.1:55555/images/PlsStby.gif",
    recPlsRecMP4Stby: "http://127.0.0.1:55555/images/PlsStby.gif",
    recMP4Rec: "http://127.0.0.1:55555/images/Mp4Rs_n.gif",
    recMP4Stby: "http://127.0.0.1:55555/images/Mp4Rs_n.gif",
    recPlsRec: "http://127.0.0.1:55555/images/Pls_Rec.gif",
    recPlsStby: "http://127.0.0.1:55555/images/Pls_Stby.gif",
    recPreRecPlsRec: "http://127.0.0.1:55555/images/PPreRec.gif",
    recPreRecPlsStby: "http://127.0.0.1:55555/images/PPreStby.gif",
    recContRecVrtuRec: "http://127.0.0.1:55555/images/CVRec.gif",
    recContRecVrtuStby: "http://127.0.0.1:55555/images/C_VStby.gif",
    recContStbyVrtuStby: "http://127.0.0.1:55555/images/CVStby.gif",
    com1: "http://127.0.0.1:55555/images/Acom_1.gif",
    com2: "http://127.0.0.1:55555/images/Acom_2.gif",
    com3: "http://127.0.0.1:55555/images/Acom_3.gif",
    com4: "http://127.0.0.1:55555/images/Acom_4.gif",
    com5: "http://127.0.0.1:55555/images/Acom_5.gif",
    com6: "http://127.0.0.1:55555/images/Acom_1.gif",
    com7: "http://127.0.0.1:55555/images/Acom_7.gif",
    com8: "http://127.0.0.1:55555/images/Acom_8.gif",
    com9: "http://127.0.0.1:55555/images/Acom_9.gif",
    com10: "http://127.0.0.1:55555/images/Acom_5.gif",
    batt0: "http://127.0.0.1:55555/images/S_Batt0.gif",
    batt1: "http://127.0.0.1:55555/images/S_Batt1.gif",
    batt2: "http://127.0.0.1:55555/images/S_Batt2.gif",
    batt3: "http://127.0.0.1:55555/images/S_Batt3.gif",
    batt4: "http://127.0.0.1:55555/images/S_BattF.gif",
    nSdSlot: "http://127.0.0.1:55555/images/SdSlot.gif",
    lSdSlot: "http://127.0.0.1:55555/images/SdSlLo.gif",
    wbmKelvin: "http://127.0.0.1:55555/images/WB_K_n.gif",
    wbmDaylight: "http://127.0.0.1:55555/images/WB_D_n.gif",
    wbmTungsten: "http://127.0.0.1:55555/images/WB_T_n.gif",
    wbmPresetA: "http://127.0.0.1:55555/images/WBMl1n.gif",
    wbmPresetB: "http://127.0.0.1:55555/images/WBMl2n.gif",
    wbmAWB: "http://127.0.0.1:55555/images/PAI_n.gif",
    wbmShade: "http://127.0.0.1:55555/images/WBShdn.gif",
    wbmCloudy: "http://127.0.0.1:55555/images/WBCldn.gif",
    wbmFluorescent: "http://127.0.0.1:55555/images/WBFlpn.gif",
    wbmFluorescentH: "http://127.0.0.1:55555/images/WBFlpHn.gif",
    wbmStrobe: "http://127.0.0.1:55555/images/WB_Stb_n.gif",
    wbvK: "http://127.0.0.1:55555/images/K_C_n.gif",
    wbvDayTung: "http://127.0.0.1:55555/images/WB_PM_n.gif",
    wbvPreset: "http://127.0.0.1:55555/images/WB_St_n.gif",
    amAutomatic: "http://127.0.0.1:55555/images/IrGaA_n.gif",
    amManual: "http://127.0.0.1:55555/images/IrGaM_n.gif",
    avF: "http://127.0.0.1:55555/images/F_C_n.gif",
    avCLOSE: "http://127.0.0.1:55555/images/ircls_n.gif",
    ssmoff: "http://127.0.0.1:55555/images/ShOff_n.gif",
    ssmspeed: "http://127.0.0.1:55555/images/Sspe_n.gif",
    ssmslow: "http://127.0.0.1:55555/images/Sslo_n.gif",
    ssmangle: "http://127.0.0.1:55555/images/Sang_n.gif",
    ssmcls: "http://127.0.0.1:55555/images/S_CLS_n.gif",
    ssmAutomatic: "http://127.0.0.1:55555/images/IrGaA_n.gif",
    ssvangle: "http://127.0.0.1:55555/images/SAng_in.gif",
    ssvcls: "http://127.0.0.1:55555/images/SCLS_in.gif",
    gcvDb: "http://127.0.0.1:55555/images/dB_in.gif",
    gcmiso: "http://127.0.0.1:55555/images/ISO_in.gif",
    gcmgain: "http://127.0.0.1:55555/images/GAIN_in.gif",
    gcmAutomatic: "http://127.0.0.1:55555/images/IrGaA_n.gif",
    gcmManual: "http://127.0.0.1:55555/images/IrGaM_n.gif",
    fbtnAF: "http://127.0.0.1:55555/images/MF_Offn.gif",
    fbtnMF: "http://127.0.0.1:55555/images/MF_Onn.gif",
    ebtnA: "http://127.0.0.1:55555/images/Exp_A_n.gif",
    ebtnM: "http://127.0.0.1:55555/images/Exp_M_n.gif",
    close: "http://127.0.0.1:55555/images/LCls_n.gif",
    warningClose: "http://127.0.0.1:55555/images/WaCls.gif",
    mp4Icon: "http://127.0.0.1:55555/images/RSMp4_n.gif",
    mxfIcon: "http://127.0.0.1:55555/images/RSMxf_n.gif"
};

function remoteCommon() {}
remoteCommon.prototype = new baseCommon;
(function() {
    this.init = function() {
        this.initScreen();
        this.changeCamera = function() {
            var a = common.getCookies().productId || "";
            if (a == ProductId.VKIX00 || a == ProductId.VLAX00 || a == ProductId.VLAX01 || a == ProductId.VLBX00 || a == ProductId.VLDX00) common.hide("ID1102"), "Basic" != def.ctrl.name && common.setSize("ID1103", "left", 200)
        }();
        this.messageBox = function() {
            var a = "",
                d = !0,
                b = document.createElement("div");
            b.className = "message-box";
            var e = common.createImgElement("warningClose")[0];
            e.className = "message-close";
            b.appendChild(e);
            var c = document.createElement("div");
            c.className = "message-string";
            b.appendChild(c);
            document.body.insertBefore(b, document.body.firstChild);
            common.hide(b);
            c.onclick = function(a) {
                common.stopEvent(common.getEvent(a))
            };
            common.addChangeImageEvent(e, function(a) {
                ctrl.getButtonObj(a);
                switch (a.type) {
                    case "mousedown":
                    case "touchstart":
                        e.src = "http://127.0.0.1:55555/images/WaCls_nc.gif";
                        break;
                    case "click":
                        common.messageBox.close();
                        e.src = "http://127.0.0.1:55555/images/WaCls.gif";
                        break;
                    case "mouseout":
                    case "touchmove":
                    case "touchend":
                        e.src = "http://127.0.0.1:55555/images/WaCls.gif"
                }
            }, !1);
            return {
                view: function(j, g, f) {
                    if (g) currentLock.isWarning() || currentLock.executeWarning(!0);
                    else if (a = j = j.replace(/ /ig, "&nbsp;"), prop.view && view.viewFlag) return;
                    else if (common.messageBox.isWarningShow()) return;
                    var k = prop.msgbox.w,
                        i = prop.msgbox.x,
                        h = prop.msgbox.y;
                    g ? common.show(e) : common.hide(e);
                    var m = "",
                        m = f ? j.split("").join(String.fromCharCode(8203)) : j.replace(/\n/g, "<br/>");
                    if (c.innerHTML != m || d) {
                        d = !1;
                        b.style.width = "auto";
                        b.style.left = "0px";
                        c.innerHTML = m;
                        switch (statusCtrl.current.lang) {
                            case 12:
                            case 13:
                                c.style.textAlign =
                                    "right";
                                break;
                            default:
                                c.style.textAlign = "left"
                        }
                        common.show(b);
                        j = parseInt(b.offsetHeight, 10);
                        f = parseInt(b.offsetWidth, 10);
                        common.hide(b);
                        if (f > k) b.style.width = k + "px", f = k;
                        b.style.left = i - f / 2 + "px";
                        if ("Basic" == def.ctrl.name) b.style.left = i - f / 2 - 5 + "px";
                        b.style.top = h - j / 2 + "px";
                        if ("Metadata" == def.ctrl.name) g ? c.style.fontSize = "13px" : (c.style.fontSize = "20px", common.show(b), g = parseInt(b.offsetWidth, 10) / 2, common.hide(b), b.style.left = 512 - g + "px", b.style.top = "640px")
                    }
                    common.show(b)
                },
                camaraIdClose: function() {
                    common.messageBox.isCameraShow() &&
                        common.messageBox.close()
                },
                review: function() {
                    (!common.isShow(b) || common.messageBox.isCameraShow()) && a && common.messageBox.view(a, !1)
                },
                close: function() {
                    common.hide(b);
                    c.innerHTML = "";
                    currentLock.isWarning() && currentLock.executeWarning(!1);
                    currentLock.isNonCtrl() || prop.view && !view.viewFlag && (!common.isShow(b) || common.messageBox.isCameraShow()) && a && common.messageBox.view(a, !1)
                },
                isWarningShow: function() {
                    return common.isShow(b) && common.isShow(e)
                },
                isCameraShow: function() {
                    return common.isShow(b) && !common.isShow(e)
                },
                clear: function() {
                    a = "";
                    common.messageBox.camaraIdClose()
                }
            }
        }();
        this.canvasControl = function() {
            var a = common.get("ID1202"),
                d = common.get("ID1203"),
                b = function(a) {
                    switch (a) {
                        case "1":
                            return prop.af.run;
                        case "2":
                            return prop.af.achieve;
                        case "3":
                            return prop.af.err
                    }
                },
                e = function(a, b, e) {
                    if (a && a.getContext && view.viewFlag) {
                        var c = common.px(a, "width"),
                            d = common.px(a, "height");
                        a.width = c;
                        a.height = d;
                        var h = a.getContext("2d");
                        h.strokeStyle = e;
                        h.lineWidth = prop.af.LINEWIDTH;
                        h.shadowColor = prop.af.SHADOWCOLOR;
                        h.shadowBlur = prop.af.SHADOWWIDTH;
                        h.shadowOffsetX = prop.af.SHADOWWIDTH;
                        h.shadowOffsetY = prop.af.SHADOWWIDTH;
                        h.strokeRect(24, 24, 632, 335);
                        b && h.strokeRect(29, 29, 622, 325);
                        h.clearRect(0, 94, c, 195);
                        h.clearRect(94, 0, 492, d);
                        common.show(a)
                    }
                },
                c = function(a) {
                    a && common.hide(a)
                };
            return {
                drawOfframe: function() {
                    var d = statusCtrl.current.Offrame,
                        g = d.movie || "off",
                        f = d.still || "",
                        d = [],
                        k = !1;
                    if (g !== "off") {
                        var i = prop.af[g];
                        if (a && a.getContext && view.viewFlag) {
                            var h = common.px(a, "width"),
                                m = common.px(a, "height");
                            a.width = h;
                            a.height = m;
                            var l = a.getContext("2d");
                            l.strokeStyle =
                                i;
                            l.lineWidth = prop.af.LINEWIDTH;
                            l.shadowColor = prop.af.SHADOWCOLOR;
                            l.shadowBlur = prop.af.SHADOWWIDTH;
                            l.shadowOffsetX = prop.af.SHADOWWIDTH;
                            l.shadowOffsetY = prop.af.SHADOWWIDTH;
                            switch (g) {
                                case "run":
                                case "err":
                                case "achieve":
                                    l.strokeRect(256, 148, 170, 88);
                                    common.show(a);
                                    break;
                                case "contin":
                                case "lock":
                                    l.strokeRect(256, 148, 170, 88), l.clearRect(0, 167, h, 50), l.clearRect(275, 0, 132, m), common.show(a)
                            }
                        }
                    }
                    if (f.length === 18) {
                        for (i = 0; i < 9; i++) d[i] = f.substr(2 * i + 1, 1), d[i] !== "0" && (k = !0);
                        if (k && (f = [{
                                x: 168,
                                y: 84,
                                w: 110,
                                h: 69
                            }, {
                                x: 285,
                                y: 84,
                                w: 110,
                                h: 69
                            }, {
                                x: 402,
                                y: 84,
                                w: 110,
                                h: 69
                            }, {
                                x: 168,
                                y: 157,
                                w: 110,
                                h: 69
                            }, {
                                x: 285,
                                y: 157,
                                w: 110,
                                h: 69
                            }, {
                                x: 402,
                                y: 157,
                                w: 110,
                                h: 69
                            }, {
                                x: 168,
                                y: 230,
                                w: 110,
                                h: 69
                            }, {
                                x: 285,
                                y: 230,
                                w: 110,
                                h: 69
                            }, {
                                x: 402,
                                y: 230,
                                w: 110,
                                h: 69
                            }], a && a.getContext && view.viewFlag)) {
                            i = common.px(a, "width");
                            h = common.px(a, "height");
                            a.width = i;
                            a.height = h;
                            i = a.getContext("2d");
                            i.lineWidth = prop.af.LINEWIDTH;
                            i.shadowColor = prop.af.SHADOWCOLOR;
                            i.shadowBlur = prop.af.SHADOWWIDTH;
                            i.shadowOffsetX = prop.af.SHADOWWIDTH;
                            i.shadowOffsetY = prop.af.SHADOWWIDTH;
                            h = 0;
                            for (m = f.length; h <
                                m; h++)
                                if (d[h] !== "0") i.strokeStyle = b(d[h]), i.strokeRect(f[h].x, f[h].y, f[h].w, f[h].h);
                            common.show(a)
                        }
                    } else f.length === 4 && (f.substr(1, 1) !== "0" ? (k = !0, e(a, !1, b(f.substr(1, 1)))) : f.substr(3, 1) !== "0" && (k = !0, e(a, !0, b(f.substr(3, 1)))));
                    g === "off" && k === !1 && c(a)
                },
                drawFaceficon: function() {
                    switch (statusCtrl.current.faceficon) {
                        case "run":
                        case "err":
                        case "achieve":
                            var a = prop.af[statusCtrl.current.faceficon];
                            if (d && d.getContext && view.viewFlag) {
                                d.width = common.px(d, "width");
                                d.height = common.px(d, "height");
                                var b = d.getContext("2d");
                                b.shadowColor = prop.af.SHADOWCOLOR;
                                b.shadowBlur = 2;
                                b.beginPath();
                                b.arc(334, 337, 17, 0, Math.PI * 2, !1);
                                b.fillStyle = a;
                                b.fill();
                                b.beginPath();
                                b.arc(334, 337, 3, 0, Math.PI * 2, !1);
                                b.fillStyle = prop.af.SHADOWCOLOR;
                                b.fill();
                                common.show(d)
                            }
                            break;
                        case "contin":
                        case "lock":
                            e(d, !1, prop.af[statusCtrl.current.faceficon]);
                            break;
                        case "off":
                            c(d);
                            break;
                        default:
                            c(d)
                    }
                },
                hide: function() {
                    c(a);
                    c(d)
                }
            }
        }()
    };
    this.messageBox = {};
    this.canvasControl = {};
    this.ajax = function(a, d) {
        function b(a, d) {
            if (d) {
                if (g) g.onreadystatechange = null, g.abort();
                g = null;
                e.abort && e.abort()
            } else if (4 == g.readyState && 200 == g.status && !j) {
                clearTimeout(i);
                var c;
                c = JSON && JSON.parse ? JSON.parse(g.responseText) : eval("(" + g.responseText + ")");
                "errsession" == c.res ? (c = common.getCookies(), c = c.brlang ? c.brlang : 0, window.location.replace(common.Browser == BrowserType.MOBILE_SAFARI || common.Browser == BrowserType.ANDROID ? "http://127.0.0.1:55555/cmn/seserr_m.htm?lang=" + c : "http://127.0.0.1:55555/cmn/seserr.htm?lang=" + c)) : "rootredirect" == c.res ? window.location.replace("/") : (e.callback && e.callback(c), j = !0)
            } else 4 == g.readyState &&
                200 != g.status && !j && b(0, !0)
        }
        var e = common.copyHash(d, {
                type: "GET",
                async: !0,
                params: {},
                responseType: "json",
                requestHeader: {
                    "If-Modified-Since": "Thu, 01 Jun 1970 00:00:00 GMT"
                },
                timeout: prop.ajax.timeout
            }),
            c, j = !1,
            g = this.requestObject();
        g.onreadystatechange = b;
        var f;
        if ("string" == typeof e.params) f = e.params;
        else {
            f = [];
            for (var k in e.params) f.push(k + "=" + encodeURIComponent(e.params[k]));
            f = f.length === 0 ? "" : "?" + f.join("&")
        }
        var i = setTimeout(function() {
            b(0, !0)
        }, e.timeout);
        try {
            if ("GET" == e.type) {
                a += f;
                g.open(e.type, a, e.async,
                    e.user, e.pass);
                for (c in e.requestHeader) g.setRequestHeader(c, e.requestHeader[c]);
                g.send("")
            } else {
                g.open(e.type, a, e.async, e.user, e.pass);
                for (c in e.requestHeader) g.setRequestHeader(c, e.requestHeader[c]);
                g.send(f)
            }
            e.async || b()
        } catch (h) {
            e.abort && e.abort(), clearTimeout(i)
        }
    };
    this.requestObject = function() {
        try {
            return new window.XMLHttpRequest
        } catch (a) {}
        try {
            return new ActiveXObject("Msxml2.XMLHTTP")
        } catch (d) {}
        try {
            return new ActiveXObject("Microsoft.XMLHTTP")
        } catch (b) {}
    };
    this.jsonEscape = function(a) {
        if (!a) return "";
        return a.replace(/(["\\/])/g, "\\$1").replace(/\t/g, "\\t").replace(/\r/g, "\\r").replace(/\n/g, "\\n")
    };
    this._numbReg = RegExp('[^0-9N\\/\\.:\\-\\+\\[\\]"]', "g");
    this._imgElMap = {};
    this.createImgElement = function(a) {
        function d(b) {
            if (common._imgElMap[b.src]) return common._imgElMap[b.src].cloneNode(!1);
            if (b) {
                var c = document.createElement("img");
                c.src = b;
                c.alt = a;
                common._imgElMap[c.src] = c;
                return c.cloneNode(!1)
            }
        }
        var b = "" + a,
            e = [];
        if (b.match(this._numbReg)) e[0] = d(IMG_MAP[b], b);
        else
            for (var c = 0, j = b.length; c < j; c++) e[c] =
                d(IMG_MAP[b.charAt(c)], b.charAt(c));
        return e
    };
    this.changeImgPath = function(a, d) {
        if (d) return a.replace(/\.gif/g, "d.gif");
        return a
    };
    this._N_REG = /n.gif/;
    this._C_REG = /nc.gif/;
    this._D_REG = /nd.gif/;
    this.compelChangeImgPath = function(a, d) {
        var b = function(b) {
            var c = a;
            switch (d) {
                case "n":
                    c = c.replace(b, "n.gif");
                    break;
                case "c":
                    c = c.replace(b, "nc.gif");
                    break;
                case "d":
                    c = c.replace(b, "nd.gif")
            }
            return c
        };
        if (a.match(this._N_REG)) return b(this._N_REG);
        else if (a.match(this._C_REG)) return b(this._C_REG);
        else if (a.match(this._D_REG)) return b(this._D_REG);
        return a
    };
    this.nestIdSuffix = function() {
        return document.querySelectorAll ? function(a, d) {
            a.id && (a.id += d);
            for (var b = a.querySelectorAll("[id]"), e = 0, c = b.length; e < c; e++) b[e].id += d
        } : function(a, d) {
            a.id && (a.id += d);
            for (var b = a.firstChild; b !== null; b = b.nextSibling) arguments.callee(b, d)
        }
    }()
}).apply(remoteCommon.prototype);
var currentLock = function() {
        var a = !1,
            d = !1,
            b = !1,
            e = {};
        return {
            isLock: function() {
                return a || d || b
            },
            changeScreen: function(a) {
                ctrl.lock();
                for (var b in e)
                    if (e[b][0] && "function" == typeof e[b][0]) e[b][0](a)
            },
            changeButton: function() {
                a ? d || b ? (common.hide("ID_Lock_Button_Normal"), common.hide("ID_Lock_Button_Normal_Disabled"), common.hide("ID_Lock_Button_Locked"), common.show("ID_Lock_Button_Locked_Disabled")) : (common.hide("ID_Lock_Button_Normal"), common.hide("ID_Lock_Button_Normal_Disabled"), common.show("ID_Lock_Button_Locked"),
                    common.hide("ID_Lock_Button_Locked_Disabled")) : (d || b ? (common.hide("ID_Lock_Button_Normal"), common.show("ID_Lock_Button_Normal_Disabled")) : (common.show("ID_Lock_Button_Normal"), common.hide("ID_Lock_Button_Normal_Disabled")), common.hide("ID_Lock_Button_Locked"), common.hide("ID_Lock_Button_Locked_Disabled"))
            },
            isKey: function() {
                return a
            },
            executeKey: function(b) {
                currentLock.changeScreen(b);
                a = b;
                currentLock.changeButton()
            },
            isWarning: function() {
                return d
            },
            executeWarning: function(c) {
                !a && !b && currentLock.changeScreen(c);
                d = c;
                currentLock.changeButton()
            },
            isNonCtrl: function() {
                return b
            },
            executeNonCtrl: function(c) {
                !a && !d && currentLock.changeScreen(c);
                c ? statusCtrl.hidden(!1) : statusCtrl.reset();
                b = c;
                currentLock.changeButton()
            },
            addDelegater: function(a, b) {
                e[a] = [b]
            },
            delDelegater: function(a) {
                e[a] = null;
                delete e[a]
            }
        }
    }(),
    common = new remoteCommon;
window.onload = function() {
    var a = common.getCookies().authlevel;
    if (a) switch (a) {
        case "full":
            break;
        case "ctrl":
            if ("Advanced" != def.ctrl.name) return;
            break;
        case "meta":
            if ("Metadata" != def.ctrl.name) return;
            break;
        default:
            return
    }
    common.init();
    lang.init();
    ctrl.init();
    statusCtrl.init();
    prop.view && view.init()
};
window.onunload = function() {
    "Metadata" == def.ctrl.name && metaCtrl.saveDataAll()
};
var LANG_DATA = [{
        name: "English",
        msgTitle: "Please limit the clip title to 100 characters or\nless.",
        msgOperator: "Please limit the creator to 100 characters or\nless.",
        msgLocation: "Please limit the location to 100 characters or\nless.",
        msgDescription: "Please limit the description to 1,000 characters\nor less.",
        msgAltitude: "Please enter an altitude value from -999999 to\n+999999.",
        msgLongitude: "Please enter a longitude value from 0\u00b00' 0'' to\n180\u00b00' 0''.",
        msgLatitude: "Please enter a latitude value from 0\u00b00' 0'' to\n90\u00b00' 0''.",
        msgMinute: "Please enter a minutes value from 0 to 59.",
        msgSecond: "Please enter a seconds value from 0 to 59.9."
    }, {
        name: "\u65e5\u672c\u8a9e",
        msgTitle: "\u30af\u30ea\u30c3\u30d7\u30bf\u30a4\u30c8\u30eb\u306f100\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\n\u3044\u3002",
        msgOperator: "\u64ae\u5f71\u8005\u306f100\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgLocation: "\u64ae\u5f71\u5834\u6240\u306f100\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgDescription: "\u64ae\u5f71\u5185\u5bb9\u306f1000\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgAltitude: "\u9ad8\u5ea6\u306f\u3001-999999\uff5e+999999\u306e\u7bc4\u56f2\u3067\u5165\u529b\u3057\u3066\u304f\n\u3060\u3055\u3044\u3002",
        msgLongitude: "\u7d4c\u5ea6\u306f\u30010\u5ea60\u52060\u79d2\uff5e180\u5ea60\u52060\u79d2\u306e\u7bc4\u56f2\u3067\u5165\n\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgLatitude: "\u7def\u5ea6\u306f\u30010\u5ea60\u52060\u79d2\uff5e90\u5ea60\u52060\u79d2\u306e\u7bc4\u56f2\u3067\u5165\u529b\n\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgMinute: "\u5206\u306f\u30010\uff5e59\u306e\u7bc4\u56f2\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
        msgSecond: "\u79d2\u306f\u30010\uff5e59.9\u306e\u7bc4\u56f2\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"
    }, {
        name: "Deutsch",
        msgTitle: "Bitte Cliptitel auf maximal 100 Zeichen\nbegrenzen.",
        msgOperator: "Bitte Urheber auf maximal 100 Zeichen\nbegrenzen.",
        msgLocation: "Bitte Aufnahmeort auf maximal 100 Zeichen\nbegrenzen.",
        msgDescription: "Bitte Clipbeschreibung auf maximal 1.000\nZeichen begrenzen.",
        msgAltitude: "Bitte einen H\u00f6henwert zwischen -999999 und\n+999999 eingeben.",
        msgLongitude: "Bitte einen Wert f\u00fcr die geographische L\u00e4nge\nzwischen 0\u00b00' 0'' und 180\u00b00' 0'' eingeben.",
        msgLatitude: "Bitte einen Wert f\u00fcr die geographische Breite\nzwischen 0\u00b00' 0'' und 90\u00b00' 0'' eingeben.",
        msgMinute: "Bitte einen Wert f\u00fcr die Minuten zwischen 0\nund 59 eingeben.",
        msgSecond: "Bitte einen Wert f\u00fcr die Sekunden zwischen 0\nund 59,9 eingeben."
    }, {
        name: "Fran\u00e7ais",
        msgTitle: "Veuillez utiliser 100 caract\u00e8res maximum pour\nle titre du clip.",
        msgOperator: "Veuillez utiliser 100 caract\u00e8res maximum pour\nle cr\u00e9ateur.",
        msgLocation: "Veuillez utiliser 100 caract\u00e8res maximum pour\nle lieu.",
        msgDescription: "Veuillez utiliser 1 000 caract\u00e8res maximum\npour la description.",
        msgAltitude: "Veuillez entrer une valeur d'altitude comprise\nentre -999999 et +999999",
        msgLongitude: "Veuillez entrer une valeur de longitude\ncomprise entre 0\u00b00' 0'' et 180\u00b00' 0''.",
        msgLatitude: "Veuillez entrer une valeur de latitude comprise\nentre 0\u00b00' 0'' et 90\u00b00' 0''.",
        msgMinute: "Veuillez entrer une valeur de minutes comprise\nentre 0 et 59.",
        msgSecond: "Veuillez entrer une valeur de secondes\ncomprise entre 0 et 59,9."
    }, {
        name: "\u7b80\u4f53\u4e2d\u6587",
        msgTitle: "\u8bf7\u5c06\u77ed\u7247\u6807\u9898\u9650\u5236\u5728100\u4e2a\u5b57\u7b26\u4ee5\u5185\u3002",
        msgOperator: "\u8bf7\u5c06\u521b\u5efa\u8005\u9650\u5236\u5728100\u4e2a\u5b57\u7b26\u4ee5\u5185\u3002",
        msgLocation: "\u8bf7\u5c06\u62cd\u6444\u5730\u70b9\u9650\u5236\u5728100\u4e2a\u5b57\u7b26\u4ee5\u5185\u3002",
        msgDescription: "\u8bf7\u5c06\u77ed\u7247\u63cf\u8ff0\u9650\u5236\u57281,000\u4e2a\u5b57\u7b26\u4ee5\u5185\u3002",
        msgAltitude: "\u8bf7\u8f93\u5165\u6d77\u62d4\u503c\uff0c\u8303\u56f4\u4e3a-999999\u81f3+999999\u3002",
        msgLongitude: "\u8bf7\u8f93\u5165\u7ecf\u5ea6\u503c\uff0c\u8303\u56f4\u4e3a0\u00b00' 0''\u81f3180\u00b00' 0''\u3002",
        msgLatitude: "\u8bf7\u8f93\u5165\u7eac\u5ea6\u503c\uff0c\u8303\u56f4\u4e3a0\u00b00' 0''\u81f390\u00b00' 0''\u3002",
        msgMinute: "\u8bf7\u8f93\u5165\u5206\u949f\u503c\uff0c\u8303\u56f4\u4e3a0\u81f359\u3002",
        msgSecond: "\u8bf7\u8f93\u5165\u79d2\u503c\uff0c\u8303\u56f4\u4e3a0\u81f359.9\u3002"
    }, {
        name: "Italiano",
        msgTitle: "Il titolo del filmato non deve superare i 100\ncaratteri.",
        msgOperator: "Il nome dell'operatore non deve superare i 100\ncaratteri.",
        msgLocation: "Il nome del luogo non deve superare i 100\ncaratteri.",
        msgDescription: "La descrizione non deve superare i 1.000\ncaratteri.",
        msgAltitude: "Inserisci un valore tra -999999 e +999999 per\nl'altitudine.",
        msgLongitude: "Inserisci un valore tra 0\u00b0 0' 0'' e 180\u00b0 0' 0'' per\nla longitudine.",
        msgLatitude: "Inserisci un valore tra 0\u00b0 0' 0'' e 90\u00b0 0' 0'' per la\nlatitudine.",
        msgMinute: "Inserisci un valore tra 0 e 59 per i minuti.",
        msgSecond: "Inserisci un valore tra 0 e 59,9 per i secondi."
    }, {
        name: "Espa\u00f1ol",
        msgTitle: "Limite el t\u00edtulo del clip a 100 caracteres o\nmenos.",
        msgOperator: "Limite el creador a 100 caracteres o menos.",
        msgLocation: "Limite la ubicaci\u00f3n a 100 caracteres o menos.",
        msgDescription: "Limite la descripci\u00f3n a 1.000 caracteres o\nmenos.",
        msgAltitude: "Introduzca un valor de altitud entre -999999 y\n+999999.",
        msgLongitude: "Introduzca un valor de longitud entre 0\u00b00' 0'' y\n180\u00b00' 0''.",
        msgLatitude: "Introduzca un valor de latitud entre 0\u00b00' 0'' y\n90\u00b00' 0''.",
        msgMinute: "Introduzca un valor de minutos entre 0 y 59.",
        msgSecond: "Introduzca un valor de segundos entre 0 y\n59,9."
    }, {
        name: "\u0420\u0443\u0441\u0441\u043a\u0438\u0439",
        msgTitle: "\u0414\u043b\u0438\u043d\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043a\u043b\u0438\u043f\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430\n\u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",
        msgOperator: "\u0414\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 \u0430\u0432\u0442\u043e\u0440\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c\n100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",
        msgLocation: "\u0414\u043b\u0438\u043d\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430\n\u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",
        msgDescription: "\u0414\u043b\u0438\u043d\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c\n1 000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",
        msgAltitude: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0441\u043e\u0442\u044b \u043d\u0430\u0434 \u0443\u0440\u043e\u0432\u043d\u0435\u043c\n\u043c\u043e\u0440\u044f \u043e\u0442 -999999 \u0434\u043e +999999.",
        msgLongitude: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0433\u043e\u0442\u044b \u043e\u0442 0\u00b00' 0'' \u0434\u043e\n180\u00b00' 0''.",
        msgLatitude: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0448\u0438\u0440\u043e\u0442\u044b \u043e\u0442 0\u00b00' 0'' \u0434\u043e\n90\u00b00' 0''.",
        msgMinute: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u0438\u043d\u0443\u0442 \u043e\u0442 0 \u0434\u043e 59.",
        msgSecond: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u043a\u0443\u043d\u0434 \u043e\u0442 0 \u0434\u043e 59,9."
    }],
    lang = {
        current: 0,
        change: function(a) {
            lang.current = a;
            common.setCookie("brlang", a);
            lang.changeImage(["ID1101", "ID1102", "ID1103", "ID1107"]);
            if ("Advanced" == def.ctrl.name || "Metadata" == def.ctrl.name) common.get("STR_ID1105").innerHTML = LANG_DATA[a].name, lang.set();
            "Metadata" == def.ctrl.name && (lang.changeImage(["ID2211d", "ID2212d", "ID2213d",
                "ID2211a", "ID2212a", "ID2213a", "ID2211p", "ID2212p", "ID2213p", "ID2211p0", "ID2212p0", "ID2213p0", "ID2221d", "ID2222d", "ID2221e", "ID2222e", "ID2403", "ID2413", "ID2423", "ID2433", "ID2454"
            ]), lang.changeStyle(["ID2442", "ID2443", "ID2444", "ID2445", "ID2455", "ID2449", "ID2450", "ID2456"]), lang.getString(a))
        },
        changeImage: function(a) {
            for (var d = 0; d < a.length; d++) {
                var b = common.get(a[d]);
                if (common.isShow(a[d])) b.src = "ID1107" == a[d] ? b.src.replace(/(\w+)_(\d+).gif/g, "$1_" + lang.current + ".gif") : b.src.replace(/(\w+)_(\d+)(\w+)/g,
                    "$1_" + lang.current + "$3")
            }
        },
        changeStyle: function(a) {
            for (var d = 0; d < a.length; d++) {
                var b = common.get(a[d]);
                b.className = b.className.replace(/(\w+)_(\d+)/g, "$1_" + lang.current)
            }
        },
        setTimerId: null,
        set: function() {
            clearTimeout(lang.setTimerId);
            lang.setTimerId = null;
            lang.sendSet()
        },
        sendSet: function() {
            common.ajax("http://127.0.0.1:55555/api/cam/setlang", {
                callback: lang.cbSendSet,
                params: {
                    lang: lang.current
                }
            })
        },
        cbSendSet: function(a) {
            clearTimeout(lang.setTimerId);
            lang.setTimerId = null;
            if ("busy" == a.res) lang.setTimerId = setTimeout(lang.sendSet,
                prop.ajax.retryInterval)
        },
        getStringTimerId: null,
        getString: function() {
            clearTimeout(lang.getStringTimerId);
            lang.getStringTimerId = null;
            lang.sendGetString()
        },
        sendGetString: function() {
            common.ajax("http://127.0.0.1:55555/api/cam/getstring", {
                params: {
                    lang: lang.current,
                    page: "meta"
                },
                callback: lang.cbSendGetString,
                abort: lang.cbAbortGetString
            })
        },
        cbSendGetString: function(a) {
            switch (a.res) {
                case "failparam":
                case "failid":
                case "busy":
                    lang.cbAbortGetString();
                    return
            }
            clearTimeout(lang.getStringTimerId);
            lang.getStringTimerId = null;
            a = a.Omcf;
            common.get("ID2401").innerHTML = a.title;
            common.get("ID2411").innerHTML = a.operator;
            common.get("ID2421").innerHTML = a.location;
            common.get("ID2431").innerHTML = a.description;
            common.get("ID2441").innerHTML = a.gps;
            common.get("ID2442").innerHTML = a.altitude;
            common.get("ID2444").innerHTML = a.longitude;
            common.get("ID2445_1").innerHTML = a.east;
            common.get("ID2445_2").innerHTML = a.west;
            common.get("ID2449").innerHTML = a.latitude;
            common.get("ID2450_1").innerHTML = a.north;
            common.get("ID2450_2").innerHTML = a.south;
            BrowserType.IE ==
                common.Browser && (common.get("ID2445").focus(), common.get("ID2450").focus(), common.get("ID1105").focus())
        },
        cbAbortGetString: function() {
            clearTimeout(lang.getStringTimerId);
            lang.getStringTimerId = null;
            lang.getStringTimerId = setTimeout(function() {
                lang.sendGetString()
            }, prop.ajax.retryInterval)
        },
        init: function() {
            var a = common.getCookies();
            lang.change(a.brlang ? a.brlang : 0)
        }
    };